/* 📱 ChannelFinder Mobile-Only Styles */
/* 모바일 (768px 이하) 전용 스타일 */

@media (max-width: 768px) {
  /* 모바일 테이블 헤더 높이 조정 (줄바꿈 텍스트를 위해) */
  * th {
    height: auto !important;
    min-height: 50px !important;
    padding: 8px 6px !important;
    white-space: pre-line !important; /* 줄바꿈 문자(\n) 인식 */
    vertical-align: middle !important;
    line-height: 1.2 !important;
  }

  /* 모바일에서 4개 칼럼만 표시: 순위(1), 채널명(2), 구독자수(4), 월 수익(5) */
  /* 강력한 선택자로 모든 테이블 칼럼 타겟팅 */
  * th:nth-child(3),  /* 카테고리 */
  * td:nth-child(3),
  * th:nth-child(6),  /* 월간성장 */
  * td:nth-child(6),
  * th:nth-child(7),  /* 일간성장 */
  * td:nth-child(7),
  * th:nth-child(8),  /* 구독자/영상 */
  * td:nth-child(8),
  * th:nth-child(9),  /* 운영기간 */
  * td:nth-child(9),
  * th:nth-child(10), /* 총조회수 */
  * td:nth-child(10),
  * th:nth-child(11), /* 평균조회수 */
  * td:nth-child(11),
  * th:nth-child(12), /* 총영상개수 */
  * td:nth-child(12),
  * th:nth-child(13), /* 업로드빈도 */
  * td:nth-child(13),
  * th:nth-child(14), /* 국가 - 모바일에서 숨김 */
  * td:nth-child(14) {
    display: none !important;
  }

  .contentWrapper {
    padding: 0 24px !important;
  }
  
  .tableContainer {
    width: 100% !important;
    margin: 0;
    border-radius: 0;
    border: 1px solid #e0e0e0 !important;
    box-shadow: none !important;
  }
  
  .statsHeader {
    width: 100% !important;
    margin: 0 0 1rem 0;
    border-radius: 0;
    flex-direction: column;
    gap: 0.5rem;
    text-align: center;
  }

  /* 모바일에서 메인 제목 폰트 크기 조정 */
  * h2 {
    font-size: 28px !important;
    text-align: left !important;
    padding: 0 !important;
  }

  .sidebar {
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    width: 100% !important;
    max-width: 100% !important;
    height: auto !important;
    max-height: 80vh !important;
    background: white !important;
    border-radius: 20px 20px 0 0 !important;
    box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.15) !important;
    transform: translateY(100%) !important;
    transition: transform 0.3s ease-out !important;
    animation: none !important;
    z-index: 9999 !important;
    overflow-y: auto !important;
  }

  .sidebar.open {
    transform: translateY(0) !important;
  }

  /* 모바일 사이드바 백드롭 */
  .sidebar::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0, 0, 0, 0.5);
    z-index: -1;
    opacity: 0;
    transition: opacity 0.3s ease-out;
  }

  .sidebar.open::before {
    opacity: 1;
  }

  /* 강력한 특이성으로 모바일 바텀 시트 오버레이 강제 적용 */
  html body div.sidebarOverlay,
  div[class*="sidebarOverlay"] {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
    display: flex !important;
    justify-content: center !important;
    align-items: flex-end !important;
    z-index: 10000 !important;
    pointer-events: auto !important;
    /* FADE IN/OUT: dimmed 배경 애니메이션 (주의: 이상하면 이 부분만 삭제) */
    background: rgba(0, 0, 0, 0.4) !important;
    animation: fadeInBackground 0.3s ease-out !important;
  }

  /* FADE IN/OUT: dimmed 배경이 사라질 때 애니메이션 (주의: 이상하면 이 부분만 삭제) */
  html body div.sidebarOverlay.mobile-closing,
  div[class*="sidebarOverlay"].mobile-closing {
    animation: fadeOutBackground 0.3s ease-out !important;
  }

  /* 강력한 특이성으로 모바일 바텀 시트 강제 적용 */
  html body div.sidebarOverlay div.sidebar,
  div[class*="sidebarOverlay"] div[class*="sidebar"] {
    position: relative !important;
    width: 100vw !important;
    max-width: 100vw !important;
    /* height: calc(100vh - 100px) !important; */
    max-height: calc(100vh - 100px) !important;
    margin-top: 30px !important;
    background: white !important;
    border-radius: 20px 20px 0 0 !important;
    box-shadow: none !important;  /* 박스 쉐도우 제거 */
    /* transform: translateY(0) !important; - React가 제어하도록 제거 */
    animation: slideUpFromBottom 0.3s ease-out !important;
    z-index: 9999 !important;
    overflow-y: auto !important;
    pointer-events: auto !important;
    display: flex !important;
    flex-direction: column !important;
  }

  /* 모바일 바텀시트 핸들바 추가 - 사이드바에만 적용 (새 클래스명 포함) */
  ._sidebar_7bq7f_483::before,
  ._sidebar_1ndsk_483::before,
  div[class*="_sidebar_"]::before {
    content: '' !important;
    position: absolute !important;
    top: 8px !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
    width: 40px !important;
    height: 4px !important;
    background-color: #d1d5db !important;
    border-radius: 2px !important;
    z-index: 1 !important;
  }

  /* 다른 요소들의 핸들 제거 */
  ._sidebarHeader_7bq7f_521::before,
  ._sidebarContent_7bq7f_582::before,
  ._sidebarHeader_1ndsk_521::before {
    display: none !important;
  }

  /* 새로운 sidebarHeader 클래스의 박스쉐도우 제거 및 마진 설정 */
  ._sidebarHeader_1ndsk_521,
  html body div[class*="sidebarOverlay"] div[class*="sidebar"] div[class="_sidebarHeader_1ndsk_521"],
  div[class*="sidebarOverlay"] div[class*="sidebar"] div[class="_sidebarHeader_1ndsk_521"],
  * div[class="_sidebarHeader_1ndsk_521"] {
    box-shadow: none !important;
    margin-top: 30px !important;
  }

  /* 새로운 sidebar 클래스의 박스쉐도우 제거 */
  ._sidebar_1ndsk_483,
  html body div[class*="sidebarOverlay"] div[class="_sidebar_1ndsk_483"],
  div[class*="sidebarOverlay"] div[class="_sidebar_1ndsk_483"],
  * div[class="_sidebar_1ndsk_483"] {
    box-shadow: none !important;
  }

  /* 모바일 바텀 시트 내부 콘텐츠 스타일 */
  .sidebar * {
    visibility: visible !important;
    display: initial !important;
    opacity: 1 !important;
  }

  .sidebarHeader,
  div[class*="sidebarHeader"] {
    display: flex !important;
    flex-shrink: 0 !important;
    visibility: visible !important;
    opacity: 1 !important;
    margin-top: 0 !important;
    padding-top: 0 !important;
  }

  /* 모든 가능한 선택자로 sidebarContent margin-top 강제 적용 */
  .sidebarContent,
  div[class*="sidebarContent"],
  html body div.sidebar div[class*="sidebarContent"],
  html body div[class*="sidebarOverlay"] div[class*="sidebar"] div[class*="sidebarContent"],
  * [class*="sidebarContent"] {
    display: block !important;
    flex: 1 !important;
    overflow-y: auto !important;
    visibility: visible !important;
    opacity: 1 !important;
    margin-top: 0px !important;
    margin: 0px 0 0 0 !important;
  }

  /* 추가 강력한 선택자 - sidebarContent만을 위한 전용 */
  div[class="_sidebarContent_7bq7f_582"] {
    margin-top: 0px !important;
    margin: 0px 0 0 0 !important;
    box-shadow: none !important;
  }

  /* 더욱 강력한 박스 쉐도우 제거 선택자 */
  html body div[class*="sidebarOverlay"] div[class*="sidebar"] div[class="_sidebarContent_7bq7f_582"],
  html body div.sidebarOverlay div.sidebar div[class="_sidebarContent_7bq7f_582"],
  * div[class="_sidebarContent_7bq7f_582"] {
    box-shadow: none !important;
  }

  /* 추가 강력한 선택자 - sidebarHeader만을 위한 전용 */
  div[class="_sidebarHeader_7bq7f_521"] {
    margin-top: 30px !important;
    box-shadow: none !important;
  }

  /* 더욱 강력한 박스 쉐도우 제거 선택자 - sidebarHeader */
  html body div[class*="sidebarOverlay"] div[class*="sidebar"] div[class="_sidebarHeader_7bq7f_521"],
  html body div.sidebarOverlay div.sidebar div[class="_sidebarHeader_7bq7f_521"],
  * div[class="_sidebarHeader_7bq7f_521"] {
    box-shadow: none !important;
    margin-top: 30px !important;
  }

  /* 기존 slideIn 애니메이션 완전 차단 */
  @media (max-width: 768px) {
    @keyframes slideIn {
      from { transform: translateY(100%); }
      to { transform: translateY(0); }
    }
  }

  /* 바텀업 애니메이션 정의 */
  @keyframes slideUpFromBottom {
    from {
      transform: translateY(100%);
    }
    to {
      transform: translateY(0);
    }
  }

  /* 바텀다운 애니메이션 정의 (닫기용) */
  @keyframes slideDownToBottom {
    from {
      transform: translateY(0);
    }
    to {
      transform: translateY(100%);
    }
  }

  /* FADE IN/OUT: dimmed 배경 애니메이션 키프레임 (주의: 이상하면 이 부분만 삭제) */
  @keyframes fadeInBackground {
    from {
      opacity: 0;
      background: rgba(0, 0, 0, 0);
    }
    to {
      opacity: 1;
      background: rgba(0, 0, 0, 0.4);
    }
  }

  @keyframes fadeOutBackground {
    from {
      opacity: 1;
      background: rgba(0, 0, 0, 0.4);
    }
    to {
      opacity: 0;
      background: rgba(0, 0, 0, 0);
    }
  }

  /* 모바일 바텀시트 닫기 애니메이션 강제 적용 */
  html body div[class*="sidebarOverlay"] div[class*="sidebar"].mobile-closing,
  div[class*="sidebarOverlay"] div[class*="sidebar"].mobile-closing {
    transform: translateY(100%) !important;
    transition: transform 0.3s ease-out !important;
    animation: none !important;
  }

  .statsGrid {
    grid-template-columns: 1fr;
  }

  .pagination {
    gap: 6px;
    margin-top: 30px;
  }

  .paginationBtn {
    width: 32px;
    height: 32px;
    font-size: 14px;
  }

  /* 모바일에서 유튜브 버튼 가로값 조정 */
  .youtubeVisitBtn {
    width: 20% !important;
  }

  /* 더 강력한 선택자로 유튜브 버튼 가로값 강제 적용 */
  html body * .youtubeVisitBtn,
  * [class*="youtubeVisitBtn"] {
    width: 20% !important;
    max-width: 20% !important;
  }
}